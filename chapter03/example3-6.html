<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    <title>Example 3-5</title>
    <style type="text/css" media="screen">
      #fps { clear: both; }
      #canvas {
        clear: both;
        border: 1px solid #c0c0c0;
      }
    </style>

  </head>
  <body>
      <canvas id="canvas" width="800" height="600">
      You need a better browser.
      </canvas>

      <script type="text/javascript" charset="utf-8">
        var context;

        var WIDTH = 800;
        var HEIGHT = 600;
        var x;
        var y;
        var dx = 4;
        var dy = 8;

        function randomNumber(max) {
          return Math.floor(Math.random() * max + 1);
        }

        function setXY() {
          x = randomNumber(WIDTH);
          y = randomNumber(HEIGHT);
        }

        function clear() {
          context.clearRect(0, 0, WIDTH, HEIGHT);
        }

        function drawCircle(x, y, radius) {
          context.beginPath();
          context.arc(x, y, radius, 0, Math.PI * 2, true);
          context.fill();
        }

        function draw(canvasId) {
          clear();

          context.fillStyle = "blue";
          drawCircle(x, y, 75);

          context.fillStyle = "green";
          drawCircle(x, y, 10);

          if (x + dx > WIDTH || x + dx < 0) {
            dx = -dx;
          }

          if (y + dy > HEIGHT || y + dy < 0) {
            dy = -dy;
          }

          x += dx;
          y += dy;

        }

        function init(canvasId) {
          context = document.getElementById(canvasId).getContext('2d');
          setXY();
          return window.setInterval(draw, 10);
        }

        init('canvas');
    </script>
</body>
</html>

